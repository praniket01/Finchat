{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/Python_API_Request/Frontend/finchat/src/app/components/Menu.jsx"],"sourcesContent":["\"use client\"\r\nimport React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst AgentMenu = () => {\r\n  const [messages,setMessages] = useState([]);\r\n  const [query, setQuery] = useState(\"\");\r\n  const [response, setResponse] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleQuery = async () => {\r\n    setLoading(true);\r\n    const userMessage = { role: \"user\", content: query };\r\n    setMessages((prev) => [...prev, userMessage]);\r\n\r\n    try {\r\n      const { data } = await axios.get(`http://127.0.0.1:8000/finance-query`, {\r\n        params: { query },\r\n      });\r\n      const botMessage = {\r\n        role: \"assistant\",\r\n        content: data.response.messages\r\n          .filter((x) => x.role === \"assistant\")\r\n          .map((x) => x.content)\r\n          .join(\" \"),\r\n      };\r\n\r\n      // Add the AI response to the state\r\n      setMessages((prev) => [...prev, botMessage]);\r\n    } catch (error) {\r\n      console.error(\"Error querying agent:\", error);\r\n      setResponse(\"Something went wrong. Please try again.\");\r\n    } finally {\r\n      setQuery(\"\"); // Clear the input field\r\n      setLoading(false);\r\n      \r\n    }\r\n  };\r\n\r\n  return (\r\n    <div  className=\"max-w-lg mx-auto p-6\">\r\n      <h1 className=\"text-center text-2xl font-bold mb-4\">Finchat</h1>\r\n      <div className=\"menu\">\r\n        {/* {[\"query\", \"web-query\", \"finance-query\"].map((menu) => (\r\n          <button\r\n            key={menu}\r\n            className={activeMenu === menu ? \"active\" : \"\"}\r\n            onClick={() => setActiveMenu(menu)}\r\n          >\r\n            {menu.replace(\"-\", \" \").toUpperCase()}\r\n          </button>\r\n        ))} */}\r\n      </div>\r\n      <div className=\"border border-gray-300 rounded-lg p-4 h-96 overflow-y-auto mb-4 bg-white\">\r\n                {messages.map((msg, idx) => (\r\n                    <div\r\n                    key={idx}\r\n                    className={`mb-3 ${\r\n                      msg.role === \"user\" ? \"text-right\" : \"text-left\"\r\n                    }`}\r\n                  >\r\n                    <strong>{msg.role === \"user\" ? \"You\" : \"AI\"}:</strong> {msg.content}\r\n                  </div>\r\n                ))}\r\n            </div>\r\n      <div className=\"response\">\r\n        \r\n        <form\r\n                onSubmit={handleQuery}\r\n                className=\"flex gap-3 items-center\"\r\n            >\r\n                <input\r\n                    type=\"text\"\r\n                    value={query}\r\n                    onChange={(e) => setQuery(e.target.value)}\r\n                    placeholder=\"Enter your message...\"\r\n                    className=\"flex-grow p-3 border border-gray-300 rounded-lg\"\r\n                />\r\n                <button\r\n                    type=\"submit\"\r\n                    className=\"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition\"\r\n                    onClick={handleQuery} disabled={loading} \r\n                >\r\n                   {loading ? \"Sending...\" : \"Send\"}\r\n                </button>\r\n            </form>\r\n     \r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AgentMenu;"],"names":[],"mappings":";;;;AACA;AACA;;;AAFA;;;AAIA,MAAM,YAAY;;IAChB,MAAM,CAAC,UAAS,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAC1C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,MAAM,cAAc;QAClB,WAAW;QACX,MAAM,cAAc;YAAE,MAAM;YAAQ,SAAS;QAAM;QACnD,YAAY,CAAC,OAAS;mBAAI;gBAAM;aAAY;QAE5C,IAAI;YACF,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,wIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,CAAC,mCAAmC,CAAC,EAAE;gBACtE,QAAQ;oBAAE;gBAAM;YAClB;YACA,MAAM,aAAa;gBACjB,MAAM;gBACN,SAAS,KAAK,QAAQ,CAAC,QAAQ,CAC5B,MAAM,CAAC,CAAC,IAAM,EAAE,IAAI,KAAK,aACzB,GAAG,CAAC,CAAC,IAAM,EAAE,OAAO,EACpB,IAAI,CAAC;YACV;YAEA,mCAAmC;YACnC,YAAY,CAAC,OAAS;uBAAI;oBAAM;iBAAW;QAC7C,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,yBAAyB;YACvC,YAAY;QACd,SAAU;YACR,SAAS,KAAK,wBAAwB;YACtC,WAAW;QAEb;IACF;IAEA,qBACE,6LAAC;QAAK,WAAU;;0BACd,6LAAC;gBAAG,WAAU;0BAAsC;;;;;;0BACpD,6LAAC;gBAAI,WAAU;;;;;;0BAWf,6LAAC;gBAAI,WAAU;0BACJ,SAAS,GAAG,CAAC,CAAC,KAAK,oBAChB,6LAAC;wBAED,WAAW,CAAC,KAAK,EACf,IAAI,IAAI,KAAK,SAAS,eAAe,aACrC;;0CAEF,6LAAC;;oCAAQ,IAAI,IAAI,KAAK,SAAS,QAAQ;oCAAK;;;;;;;4BAAU;4BAAE,IAAI,OAAO;;uBAL9D;;;;;;;;;;0BASnB,6LAAC;gBAAI,WAAU;0BAEb,cAAA,6LAAC;oBACO,UAAU;oBACV,WAAU;;sCAEV,6LAAC;4BACG,MAAK;4BACL,OAAO;4BACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;4BACxC,aAAY;4BACZ,WAAU;;;;;;sCAEd,6LAAC;4BACG,MAAK;4BACL,WAAU;4BACV,SAAS;4BAAa,UAAU;sCAEhC,UAAU,eAAe;;;;;;;;;;;;;;;;;;;;;;;AAO7C;GAtFM;KAAA;uCAwFS"}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}